<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kenzie's Ultimate Valentine Project</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --pink-primary: #ff4d6d;
            --pink-dark: #800e13;
            --gold: #ffb703;
            --glass: rgba(255, 255, 255, 0.1);
            --text-light: #fff0f3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #0d0d0d;
            color: var(--text-light);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        /* --- PRELOADER --- */
        #preloader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .loader-heart {
            font-size: 4rem;
            color: var(--pink-primary);
            animation: beat 1s infinite;
        }

        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* --- LOCK SCREEN (SETTINGS TANGGAL) --- */
        #lock-screen {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 5000;
            display: none; /* Muncul setelah loading */
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(20px);
        }

        input[type="date"] {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid var(--pink-primary);
            background: rgba(0,0,0,0.5);
            color: white;
            margin: 20px 0;
            width: 100%;
            font-family: inherit;
            outline: none;
        }

        /* --- BACKGROUND ENGINE --- */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at center, #2d0a10 0%, #000 100%);
        }

        /* --- NAVIGATION MENU --- */
        nav {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            padding: 10px 25px;
            border-radius: 50px;
            display: none; /* Hidden until unlocked */
            gap: 20px;
            border: 1px solid var(--pink-primary);
            z-index: 1000;
            box-shadow: 0 0 20px rgba(255, 77, 109, 0.3);
        }

        nav button {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 1.2rem;
            transition: 0.3s;
            padding: 10px;
        }

        nav button.active {
            color: var(--pink-primary);
            transform: translateY(-5px);
            text-shadow: 0 0 10px var(--pink-primary);
        }

        /* --- CONTENT WRAPPER --- */
        main {
            height: 100vh;
            width: 100%;
            position: relative;
            display: none; /* Hidden until unlocked */
        }

        .page {
            position: absolute;
            inset: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.8s ease;
            transform: scale(1.1);
        }

        .page.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .card {
            background: var(--glass);
            padding: 40px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            max-width: 800px;
            width: 100%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* --- PAGE SPECIFIC --- */
        h1.title {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: var(--pink-primary);
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-item {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 15px;
            border-bottom: 3px solid var(--pink-primary);
        }

        .stat-item h3 { font-size: 1.8rem; color: var(--gold); }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            height: 300px;
        }

        .img-box {
            width: 100%;
            height: 100%;
            background: #222;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
        }

        .img-box img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .img-box:hover img { transform: scale(1.1); }

        .music-ui {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            gap: 15px;
        }

        .btn-yes {
            background: var(--pink-primary);
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 20px var(--pink-primary);
        }

        #noBtn {
            position: absolute;
            transition: 0.2s;
        }

        @media (max-width: 600px) {
            h1.title { font-size: 2.5rem; }
            .gallery-grid { grid-template-columns: 1fr 1fr; }
            nav { width: 90%; gap: 10px; }
        }
    </style>
</head>
<body>

    <div id="preloader">
        <div class="loader-heart"><i class="fas fa-heart"></i></div>
        <p style="margin-top: 20px; letter-spacing: 3px;">INITIALIZING LOVE...</p>
    </div>

    <div id="lock-screen">
        <div class="card" id="lock-card">
            <h2 class="title" style="font-size: 2.5rem;">Verifikasi Cinta</h2>
            <p>Masukkan tanggal jadian kita untuk membuka :</p>
            <input type="date" id="dateInput">
            <button class="btn-yes" onclick="checkDate()">Buka Kunci ‚ù§Ô∏è</button>
            <p id="error-msg" style="color: #ff4d6d; font-size: 0.8rem; margin-top: 15px; display: none; font-weight: bold;">Ups! Tanggalnya salah sayang, coba ingat lagi.</p>
        </div>
    </div>

    <canvas id="bg-canvas"></canvas>

    <nav id="mainNav">
        <button onclick="changePage(0)" class="active" title="Home"><i class="fas fa-home"></i></button>
        <button onclick="changePage(1)" title="Timeline"><i class="fas fa-history"></i></button>
        <button onclick="changePage(2)" title="Memories"><i class="fas fa-images"></i></button>
        <button onclick="changePage(3)" title="Reason"><i class="fas fa-quote-left"></i></button>
        <button onclick="changePage(4)" title="Question"><i class="fas fa-envelope-open-heart"></i></button>
    </nav>

    <audio id="mainAudio" loop>
        <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
    </audio>

    <main id="mainContent">
        <section class="page active" id="page-0">
            <div class="card">
                <p style="text-transform: uppercase; letter-spacing: 5px;">Happy Valentine's Day 2026</p>
                <h1 class="title">Untukmu Tersayang</h1>
                <p style="font-style: italic; opacity: 0.8;">"Dalam ribuan bintang di langit, hanya kamu yang paling terang di mataku."</p>
                <div class="music-ui">
                    <button onclick="toggleMusic()" id="playIcon" style="background:none; border:none; color:white; cursor:pointer;">
                        <i class="fas fa-play"></i>
                    </button>
                    <small id="trackTitle">Playing: L-O-V-E Instrumental</small>
                </div>
                <div style="margin-top: 30px;">
                    <button class="btn-yes" onclick="changePage(1)">Mulai Petualangan Kita <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>
        </section>

        <section class="page" id="page-1">
            <div class="card">
                <h2 class="title" style="font-size: 2.5rem;">Waktu Yang Kita Lalui</h2>
                <div class="stats-grid" id="timerGrid"></div>
                <p>Hari demi hari berlalu, dan perasaanku tetap sama. Bahkan bertambah setiap detiknya.</p>
            </div>
        </section>

        <section class="page" id="page-2">
            <div class="card">
                <h2 class="title" style="font-size: 2.5rem;">Kenangan Kita</h2>
                <div class="gallery-grid">
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=500" alt="1"></div>
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?w=500" alt="2"></div>
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1494972308205-4a3817e2a9e1?w=500" alt="3"></div>
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1523438885200-e635ba2c371e?w=500" alt="4"></div>
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1516589174184-c685265162cb?w=500" alt="5"></div>
                    <div class="img-box"><img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?w=500" alt="6"></div>
                </div>
                <p style="margin-top: 15px;">Setiap foto punya cerita, setiap cerita punya kamu.</p>
            </div>
        </section>

        <section class="page" id="page-3">
            <div class="card" id="quoteContainer">
                <h2 class="title" style="font-size: 2.5rem;">Kenapa Kamu?</h2>
                <div id="reasonText" style="min-height: 100px; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;">
                    "Karena kamu adalah rumah bagiku."
                </div>
                <button class="btn-yes" style="margin-top: 20px; padding: 10px 20px;" onclick="nextReason()">Alasan Lainnya <i class="fas fa-heart"></i></button>
            </div>
        </section>

        <section class="page" id="page-4">
            <div class="card">
                <h1 class="title">The Final Question</h1>
                <p style="font-size: 1.5rem; margin-bottom: 30px;">Maukah kamu tetap di sisiku selamanya?</p>
                <div style="position: relative; height: 100px;">
                    <button class="btn-yes" id="yesBtn" onclick="finalCelebrate()">YA, TENTU SAJA! ‚ù§Ô∏è</button>
                    <button class="btn-yes" id="noBtn" style="background: #333; box-shadow: none;">Gak Mau</button>
                </div>
            </div>
        </section>
    </main>

    <script>
        // --- TANGGAL JADIAN (FORMAT: YYYY-MM-DD) ---
        const TANGGAL_JADIAN = "2026-02-14"; 

        // --- 1. CORE LOGIC ---
        const pages = document.querySelectorAll('.page');
        const navBtns = document.querySelectorAll('nav button');
        let audio = document.getElementById('mainAudio');
        let isPlaying = false;

        function changePage(index) {
            pages.forEach(p => p.classList.remove('active'));
            navBtns.forEach(b => b.classList.remove('active'));
            pages[index].classList.add('active');
            navBtns[index].classList.add('active');
            if(isPlaying) {
                const clickSfx = new Audio('https://www.soundjay.com/buttons/sounds/button-16.mp3');
                clickSfx.volume = 0.2; clickSfx.play();
            }
        }

        // --- 2. PRELOADER & LOCK SYSTEM ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').style.display = 'none';
                document.getElementById('lock-screen').style.display = 'flex';
                gsap.from("#lock-card", { duration: 1, y: 50, opacity: 0, ease: "back" });
            }, 2000);
        });

        function checkDate() {
            const input = document.getElementById('dateInput').value;
            const error = document.getElementById('error-msg');
            if(input === TANGGAL_JADIAN) {
                gsap.to("#lock-screen", { duration: 1, opacity: 0, onComplete: () => {
                    document.getElementById('lock-screen').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                    document.getElementById('mainNav').style.display = 'flex';
                    initTimer();
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                }});
            } else {
                error.style.display = 'block';
                gsap.from("#lock-card", { x: 20, repeat: 5, yoyo: true, duration: 0.05 });
            }
        }

        // --- 3. BACKGROUND ANIMATION ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.opacity = Math.random();
            }
            update() {
                this.x += this.speedX; this.y += this.speedY;
                if (this.x > canvas.width) this.x = 0;
                if (this.y > canvas.height) this.y = 0;
            }
            draw() {
                ctx.fillStyle = `rgba(255, 77, 109, ${this.opacity})`;
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
            }
        }
        for(let i=0; i<100; i++) particles.push(new Particle());
        function animate() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        initCanvas(); animate();

        // --- 4. TIMER SYSTEM ---
        function initTimer() {
            const startDate = new Date(TANGGAL_JADIAN);
            setInterval(() => {
                const diff = new Date() - startDate;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                const mins = Math.floor((diff / 1000 / 60) % 60);
                const secs = Math.floor((diff / 1000) % 60);
                document.getElementById('timerGrid').innerHTML = `
                    <div class="stat-item"><h3>${days}</h3><p>Hari</p></div>
                    <div class="stat-item"><h3>${hours}</h3><p>Jam</p></div>
                    <div class="stat-item"><h3>${mins}</h3><p>Menit</p></div>
                    <div class="stat-item"><h3>${secs}</h3><p>Detik</p></div>
                `;
            }, 1000);
        }

        // --- 5. REASON GENERATOR ---
        const reasons = ["Karena kamu selalu ada saat aku butuh.", "Karena tawamu adalah suara favoritku.", "Karena kamu membuatku menjadi orang yang lebih baik.", "Karena caramu menatapku membuatku merasa aman.", "Karena tidak ada orang lain yang mengertiku seperti kamu."];
        let reasonIdx = 0;
        function nextReason() {
            reasonIdx = (reasonIdx + 1) % reasons.length;
            const text = document.getElementById('reasonText');
            gsap.to(text, { opacity: 0, duration: 0.3, onComplete: () => {
                text.innerText = `"${reasons[reasonIdx]}"`;
                gsap.to(text, { opacity: 1, duration: 0.3 });
            }});
        }

        // --- 6. MUSIC CONTROL ---
        function toggleMusic() {
            const icon = document.querySelector('#playIcon i');
            if(!isPlaying) {
                audio.play(); icon.classList.replace('fa-play', 'fa-pause'); isPlaying = true;
            } else {
                audio.pause(); icon.classList.replace('fa-pause', 'fa-play'); isPlaying = false;
            }
        }

        // --- 7. JAHIL BUTTON & CELEBRATION ---
        const noBtn = document.getElementById('noBtn');
        noBtn.addEventListener('mouseover', () => {
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 150);
            noBtn.style.left = `${x}px`; noBtn.style.top = `${y}px`;
        });

        function finalCelebrate() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff4d6d', '#ffb703', '#ffffff'] });
            document.querySelector('#page-4 .card').innerHTML = `<h1 class="title">I LOVE YOU! ‚ù§Ô∏è</h1><p>Terima kasih sudah memilihku. Hari ini, besok, dan selamanya.</p><div style="margin-top:20px; font-size: 5rem;">üíç</div>`;
        }
    </script>
</body>
</html>
